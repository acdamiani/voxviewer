<script lang="ts">
  import { playhead } from '$lib/stores';

  let position: number;
  let offset: number;

  const mouseMove = (e: MouseEvent) => {
    position = Math.max(padding, e.clientX - offset);
  };

  let mouseBar: HTMLDivElement;

  $: if (mouseBar) {
    offset = mouseBar.getBoundingClientRect().x;
  }

  export let padding = 0;
</script>

<svelte:window on:mousemove={mouseMove} />

<div
  class="absolute inset-0 right-auto w-px bg-neutral-700 bg-opacity-25"
  style="transform: translateX({position}px);"
  bind:this={mouseBar}
/>
